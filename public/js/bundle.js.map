{"version":3,"sources":["webpack:///webpack/bootstrap 615c1465b59e7f5791b3","webpack:///./src/client/model/Entity.js","webpack:///./src/client/model/Vector.js","webpack:///./src/client/model/Material.js","webpack:///./src/client/model/Block.js","webpack:///./src/client/app.js","webpack:///./src/client/model/Game.js","webpack:///./src/client/model/Canvas.js","webpack:///./src/client/model/CollisionBounds.js","webpack:///./src/client/model/Area.js","webpack:///./src/client/model/Player.js","webpack:///./src/client/application/AudioManager.js","webpack:///./src/client/application/AssetManager.js","webpack:///./src/client/application/KeyboardEventHandler.js"],"names":["Entity","x","y","width","height","material","position","velocity","acceleration","ctx","drawImage","getSprite","Vector","vector","scalar","Math","sqrt","magnitude","mag","div","max","normalize","mult","to","pow","v1","v2","Material","resource","name","sprite","assetManager","getAsset","Block","solid","socket","io","animate","game","clearRect","canvas","update","emit","player","keyActionsRegister","render","window","requestAnimationFrame","init","document","getElementById","getContext","map","audioManager","area1","area2","area3","gameObjects","keyEventHandler","pl","bl","se","no","blocksList","blocksList2","blocksList3","right","left","bottom","top","generateBlocks","areas","push","getKeyActionsRegister","queueDownload","loadAll","playSound","concat","blocks","downLoadAll","forEach","obj","setSprite","textContent","addEventListener","on","data","console","log","Game","running","current","move","checkEdges","block","drawHearts","Canvas","CollisionBounds","Area","objWidth","length","objHeight","objX","objY","i","j","blk","Player","lives","speed","jumping","grounded","history","friction","gravity","direction","checkCollision","add","set","object","vX","vY","hWidths","hHeights","colDir","abs","oX","oY","hasRight","hasLeft","pos","cache","AudioManager","bufferCache","downloadQueue","succesCount","errorCount","AudioContext","webkitAudioContext","context","e","alert","path","callback","managerInstance","load","item","url","instance","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","buffer","done","onerror","send","loop","sound","createBufferSource","connect","destination","loopEnd","floor","duration","start","AssetManager","img","Image","src","KeyboardEventHandler","initializeKeyHandler","event","key"],"mappings":"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","file":"./public/js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 615c1465b59e7f5791b3","import Vector from './Vector'\nimport CollisionBounds from './CollisionBounds'\n\n/**\n * Created by Daniel on 2017-09-18.\n */\nexport default class Entity {\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   * @param {Material} material\n   */\n  constructor (x, y, width, height, material) {\n    this.position = new Vector(x, y)\n    this.velocity = new Vector(0, 0)\n    this.acceleration = new Vector(0, 0)\n    this.width = width\n    this.height = height\n    this.material = material\n  }\n\n  setPosition (x, y) {\n    this.x = x\n    this.y = y\n  }\n\n  getX () {\n    return this.x\n  }\n\n  setX (x) {\n    this.x = x\n  }\n\n  getY () {\n    return this.y\n  }\n\n  setY (y) {\n    this.y = y\n  }\n\n  getWidth () {\n    return this.width\n  }\n\n  setWidth (width) {\n    this.width = width\n  }\n\n  getCollisionBox () {\n    return new CollisionBounds(this.position.x, this.position.y, this.width, this.height)\n  }\n\n  render (ctx) {\n    ctx.drawImage(this.material.getSprite(), this.position.x, this.position.y, this.width, this.height)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Entity.js","/**\n * @author Daniel Peters\n * @version 1.0\n */\nexport default class Vector {\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   */\n  constructor (x, y) {\n    this.x = x\n    this.y = y\n  }\n\n  set (x, y) {\n    this.x = x\n    this.y = y\n  }\n\n  setVector (vector) {\n    this.x = vector.x\n    this.y = vector.y\n  }\n\n  add (vector) {\n    this.x += vector.x\n    this.y += vector.y\n  }\n\n  static add (v1, v2) {\n    return new Vector(v1.x + v2.x, v1.y + v2.y)\n  }\n\n  sub (vector) {\n    this.x -= vector.x\n    this.y -= vector.y\n  }\n\n  static sub (v1, v2) {\n    return new Vector(v1.x - v2.x, v1.y - v2.y)\n  }\n\n  mult (scalar) {\n    this.x *= scalar\n    this.y *= scalar\n  }\n\n  static mult (vector, scalar) {\n    return new Vector(vector.x * scalar, vector.y * scalar)\n  }\n\n  div (scalar) {\n    this.x /= scalar\n    this.y /= scalar\n  }\n\n  static div (vector, scalar) {\n    return new Vector(vector.x / scalar, vector.y / scalar)\n  }\n\n  mag () {\n    return Math.sqrt(this.x * this.x + this.y * this.y)\n  }\n\n  negative () {\n    return new Vector(-this.x, -this.y)\n  }\n\n  normalize () {\n    let magnitude = this.mag()\n    if (magnitude !== 0) {\n      this.div(magnitude)\n    }\n  }\n\n  limit (max) {\n    if (this.mag() > max) {\n      this.normalize()\n      this.mult(max)\n    }\n  }\n\n  heading () {\n\n  }\n\n  rotate () {\n\n  }\n\n  lerp () {\n\n  }\n\n  distanceTo (to) {\n    return Math.sqrt(Math.pow(to.x - this.x, 2) + Math.pow(to.y - this.y, 2))\n  }\n\n  angleBetween () {\n\n  }\n\n  dot () {\n\n  }\n\n  cross () {\n\n  }\n\n  random2D () {\n\n  }\n\n  random3D () {\n\n  }\n\n  clone () {\n    return new Vector(this.x, this.y)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Vector.js","/**\n * Created by Daniel on 2017-09-18.\n */\nexport default class Material {\n  /**\n   *\n   * @param {string} resource\n   */\n  constructor (resource) {\n    this.name = resource\n    this.sprite = null\n  }\n\n  /**\n   *\n   * @param {AssetManager} assetManager\n   */\n  setSprite (assetManager) {\n    this.sprite = assetManager.getAsset(this.name)\n  }\n\n  /**\n   *\n   * @returns {Image | null}\n   */\n  getSprite () {\n    return this.sprite\n  }\n\n  getName () {\n    return this.name\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Material.js","import Entity from './Entity'\n\nexport default class Block extends Entity {\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   * @param {Material} material\n   */\n  constructor (x, y, width, height, material) {\n    super(x, y, width, height, material)\n    this.solid = true\n  }\n\n  /**\n   *\n   * @returns {boolean}\n   */\n  isSolid () {\n    return this.solid\n  }\n\n  /**\n   *\n   * @param {boolean} solid\n   */\n  setSolid (solid) {\n    this.solid = solid\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Block.js","'use strict'\r\nimport Game from './model/Game'\r\nimport Canvas from './model/Canvas'\r\nimport Area from './model/Area'\r\nimport AudioManager from './application/AudioManager'\r\nimport AssetManager from './application/AssetManager'\r\nimport KeyboardEventHandler from './application/KeyboardEventHandler'\r\nimport Material from './model/Material'\r\n\r\nlet socket = io()\r\n\r\n/**\r\n *\r\n * @param game\r\n */\r\nfunction animate (game) {\r\n  // Clear game before drawing new animation\r\n  game.ctx.clearRect(0, 0, game.canvas.width, game.canvas.height)\r\n\r\n  // Update game logic\r\n  game.update()\r\n\r\n  socket.emit('movement', game.player.keyActionsRegister)\r\n\r\n  // Render objects\r\n  game.render()\r\n\r\n  // Request new frame when ready. Allows the game to play in a loop\r\n  window.requestAnimationFrame(() => animate(game))\r\n}\r\n\r\n/**\r\n * Initializes all game Objects\r\n */\r\nfunction init () {\r\n  let canvas = document.getElementById('game')\r\n\r\n  if (canvas.getContext) {\r\n    let ctx = canvas.getContext('2d')\r\n    let map = new Canvas(0, 0, canvas.width, canvas.height, new Material('background'))\r\n    let audioManager = new AudioManager()\r\n    let game = new Game(map, ctx, audioManager)\r\n    let area1 = new Area(game)\r\n    let area2 = new Area(game)\r\n    let area3 = new Area(game)\r\n    let gameObjects = []\r\n    let assetManager = new AssetManager()\r\n    let keyEventHandler = new KeyboardEventHandler(canvas)\r\n\r\n    let pl = 'player'\r\n    let bl = 'block'\r\n    let se = 'secret'\r\n    let no = null\r\n    let blocksList = [\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl],\r\n      [bl, no, no, no, no, bl, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, bl, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, bl, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, no, no, no, no, bl, bl, no, no, no, bl],\r\n      [bl, no, no, no, no, no, no, no, no, no, no, no, no, no, bl],\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, no, no, no, no, no, no, se],\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl]\r\n    ]\r\n\r\n    let blocksList2 = [\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl],\r\n      [bl, no, no, no, no, bl, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, bl, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, bl, no, no, no, no, no, no, no, pl, bl],\r\n      [bl, no, no, no, no, no, no, no, no, bl, bl, bl, bl, bl, bl],\r\n      [bl, no, no, no, no, no, no, no, no, no, no, no, no, no, bl],\r\n      [se, no, no, no, no, no, bl, bl, no, no, no, no, no, no, bl],\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, no, no, bl]\r\n    ]\r\n\r\n    let blocksList3 = [\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, no, no, bl],\r\n      [bl, no, no, no, no, no, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, no, no, no, no, no, no, no, no, bl, bl],\r\n      [bl, no, no, no, no, no, no, no, no, no, no, no, bl, bl, bl],\r\n      [bl, bl, bl, bl, bl, no, no, no, no, bl, bl, bl, bl, bl, bl],\r\n      [bl, no, no, no, no, no, no, no, no, no, no, no, no, no, bl],\r\n      [bl, no, no, no, no, no, bl, bl, no, no, no, no, no, no, bl],\r\n      [bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl, bl]\r\n    ]\r\n\r\n    area1.right = area2\r\n    area2.left = area1\r\n    area2.bottom = area3\r\n    area3.top = area2\r\n    area1.generateBlocks(blocksList)\r\n    area2.generateBlocks(blocksList2)\r\n    area3.generateBlocks(blocksList3)\r\n    game.areas.push(area1)\r\n    game.areas.push(area2)\r\n    game.areas.push(area3)\r\n    game.player.keyActionsRegister = keyEventHandler.getKeyActionsRegister()\r\n    game.assetManager = assetManager\r\n    game.audioManager.queueDownload('ambient', 'assets/audio/ambient/ambient.mp3')\r\n    game.audioManager.queueDownload('jump', 'assets/audio/effects/jump.wav')\r\n    game.audioManager.loadAll(() => {\r\n      game.audioManager.playSound('ambient', true)\r\n      gameObjects.push(map)\r\n      gameObjects.push(game.player)\r\n      gameObjects = gameObjects.concat(area1.blocks)\r\n      gameObjects = gameObjects.concat(area2.blocks)\r\n      gameObjects = gameObjects.concat(area3.blocks)\r\n\r\n      // Add all sprites to the download queue\r\n      assetManager.queueDownload('background', 'assets/textures/background.jpg')\r\n      assetManager.queueDownload('player', 'assets/textures/player.png')\r\n      assetManager.queueDownload('stone-block', 'assets/textures/stone-block.jpg')\r\n      assetManager.queueDownload('heart', 'assets/textures/heart.png')\r\n      // Start playing ambient music\r\n\r\n      // Download all sprites\r\n      assetManager.downLoadAll(() => {\r\n        // Assign the sprites to the correct material\r\n        gameObjects.forEach((obj) => obj.material.setSprite(assetManager))\r\n        socket.emit('new player')\r\n        // After the sprites are initialized start drawing\r\n        animate(game)\r\n      })\r\n    })\r\n  } else {\r\n    document.getElementById('unsupported').textContent = 'Please update your browser or download another one which supports HTML5'\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', init())\r\n\r\nsocket.on('message', function (data) {\r\n  console.log(data)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/app.js","/**\n * Created by Daniel on 2017-09-18.\n */\nexport default class Game {\n  /**\n   *\n   * @param {Canvas} canvas\n   * @param ctx\n   * @param {AudioManager} audioManager\n   */\n  constructor (canvas, ctx, audioManager) {\n    this.canvas = canvas\n    this.ctx = ctx\n    this.audioManager = audioManager\n    this.player = null\n    this.running = false\n    this.areas = []\n    this.blocks = []\n    this.current = null\n  }\n\n  run () {\n    this.running = true\n  }\n\n  pause () {\n    this.running = false\n  }\n\n  update () {\n    this.player.move(this)\n    this.player.checkEdges(this)\n  }\n\n  render () {\n    this.canvas.render(this.ctx)\n    this.player.render(this.ctx)\n    this.current.blocks.forEach(block => block.render(this.ctx))\n    this.player.drawHearts(this)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Game.js","import Entity from './Entity'\n\n/**\n * Created by Daniel on 2017-09-18.\n */\nexport default class Canvas extends Entity {\n  /**\n   *\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   * @param {Material} material\n   */\n  constructor (x, y, width, height, material) {\n    super(x, y, width, height, material)\n    this.name = 'default'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Canvas.js","/**\n * Created by Daniel on 2017-09-18.\n */\n\nexport default class CollisionBounds {\n  /**\n   *\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   */\n  constructor (x, y, width, height) {\n    this.x = x\n    this.y = y\n    this.width = width\n    this.height = height\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/CollisionBounds.js","import Material from './Material'\nimport Block from './Block'\nimport Player from './Player'\n\nexport default class Area {\n  constructor (game, top = null, bottom = null, left = null, right = null) {\n    this.game = game\n    this.top = top\n    this.bottom = bottom\n    this.left = left\n    this.right = right\n    this.blocks = []\n  }\n\n  generateBlocks (blocksList) {\n    let objWidth = this.game.canvas.width / blocksList[0].length\n    let objHeight = this.game.canvas.height / blocksList.length\n    let objX = 0\n    let objY = 0\n\n    for (let i = 0; i < blocksList.length; i++) {\n      for (let j = 0; j < blocksList[i].length; j++) {\n        if (blocksList[i][j] === 'block') {\n          this.blocks.push(new Block(objX, objY, objWidth, objHeight, new Material('stone-block')))\n        } else if (blocksList[i][j] === 'secret') {\n          let blk = new Block(objX, objY, objWidth, objHeight, new Material('stone-block'))\n          blk.solid = false\n          this.blocks.push(blk)\n        } else if (blocksList[i][j] === 'player' && this.game.player === null) {\n          this.game.player = new Player(objX, objY, objWidth, objHeight, new Material('player'))\n          this.game.current = this\n        }\n        objX += objWidth\n      }\n      objY += objHeight\n      objX = 0\n    }\n  }\n\n  hasLeft () {\n    return this.left !== null\n  }\n\n  hasRight () {\n    return this.right !== null\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Area.js","import Entity from './Entity'\nimport Block from './Block'\nimport Vector from './Vector'\n\n/**\n * Created by Daniel on 2017-09-18.\n */\nexport default class Player extends Entity {\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   * @param {CollisionBounds} collisionBox\n   * @param {Material} material\n   */\n  constructor (x, y, width, height, material) {\n    super(x, y, width, height, material)\n    this.lives = 3\n    this.speed = 3.6\n    this.running = false\n    this.jumping = false\n    this.grounded = false\n    this.history = {}\n    this.keyActionsRegister = []\n    this.friction = 0.8\n    this.gravity = 0.2\n  }\n\n  /**\n   *\n   * @param game\n   */\n  move (game) {\n    if (this.keyActionsRegister['w'] || this.keyActionsRegister[' ']) {\n      if (!this.jumping && this.grounded) {\n        game.audioManager.playSound('jump')\n        this.jumping = true\n        this.grounded = false\n        this.velocity.y = -this.speed * 2\n      }\n    }\n\n    if (this.keyActionsRegister['a']) {\n      if (this.velocity.x > -this.speed) {\n        this.velocity.x--\n      }\n    }\n\n    if (this.keyActionsRegister['d']) {\n      if (this.velocity.x < this.speed) {\n        this.velocity.x++\n      }\n    }\n    this.velocity.x *= this.friction\n    this.velocity.y += this.gravity\n\n    this.grounded = false\n\n    game.current.blocks.forEach(block => {\n      const direction = this.checkCollision(this, block)\n\n      if (direction === 'l' || direction === 'r') {\n        this.velocity.x = 0\n        this.jumping = false\n      } else if (direction === 'b') {\n        this.grounded = true\n        this.jumping = false\n      } else if (direction === 't') {\n        this.velocity.y *= -1\n      }\n    })\n\n    if (this.grounded) {\n      this.velocity.y = 0\n    }\n\n    this.position.add(this.velocity)\n  }\n\n  goBack () {\n    if (this.history.length !== 0) {\n      this.position.set(this.history[this.history.length - 1])\n    }\n  }\n\n  gainLife () {\n    this.lives += 1\n  }\n\n  loseLife () {\n    this.lives -= 1\n  }\n\n  toggleRun () {\n    this.running = !this.running\n  }\n\n  checkCollision (player, object) {\n    if (object instanceof Block && !object.solid) {\n      return\n    }\n\n    // get the vectors to check against\n    let vX = (player.position.x + (player.width / 2)) - (object.position.x + (object.width / 2))\n    let vY = (player.position.y + (player.height / 2)) - (object.position.y + (object.height / 2))\n    // add the half widths and half heights of the objects\n    let hWidths = (player.width / 2) + (object.width / 2)\n    let hHeights = (player.height / 2) + (object.height / 2)\n    let colDir = null\n\n    // if the x and y vector are less than the half width or half height, they we must be inside the object, causing a collision\n    // figures out on which side we are colliding (top, bottom, left, or right)\n    if (Math.abs(vX) < hWidths && Math.abs(vY) < hHeights) {\n      let oX = hWidths - Math.abs(vX)\n      let oY = hHeights - Math.abs(vY)\n      if (oX >= oY) {\n        if (vY > 0) {\n          colDir = 't'\n          player.position.y += oY\n        } else {\n          colDir = 'b'\n          player.position.y -= oY\n          player.jumping = false\n        }\n      } else {\n        if (vX > 0) {\n          colDir = 'l'\n          player.position.x += oX\n        } else {\n          colDir = 'r'\n          player.position.x -= oX\n        }\n      }\n    }\n\n    return colDir\n  }\n\n  /**\n   *\n   * @param {Game} game\n   */\n  checkEdges (game) {\n    if (this.position.x > game.canvas.width && game.current.hasRight()) {\n      game.current = game.current.right\n      this.position.x = game.current.blocks[0].width\n    } else if (this.position.x < 0 && game.current.hasLeft()) {\n      game.current = game.current.left\n      this.position.x = game.canvas.width - game.current.blocks[0].width\n    } else if (this.position.y > game.canvas.height) {\n      game.current = game.current.bottom\n      this.position.y = game.current.blocks[0].height\n    } else if (this.position.y < 0) {\n      game.current = game.current.top\n      this.position.y = game.canvas.height - game.current.blocks[0].height\n    }\n  }\n\n  drawHearts (game) {\n    let pos = new Vector(game.canvas.width - 35, 5)\n    for (let i = 0; i < game.player.lives; i++) {\n      game.ctx.drawImage(game.assetManager.cache['heart'], pos.x, pos.y, 30, 30)\n      pos.x -= 30\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/model/Player.js","export default class AudioManager {\n  constructor () {\n    this.bufferCache = []\n    this.downloadQueue = []\n    this.succesCount = 0\n    this.errorCount = 0\n\n    try {\n      // Fix up for prefixing\n      window.AudioContext = window.AudioContext || window.webkitAudioContext\n      this.context = new AudioContext()\n    } catch (e) {\n      alert('Web Audio API is not supported in this browser')\n    }\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {string} path\n   */\n  queueDownload (name, path) {\n    this.downloadQueue.push({name: name, path: path})\n  }\n\n  loadAll (callback) {\n    if (this.downloadQueue.length === 0) {\n      callback()\n    }\n    let managerInstance = this\n    this.downloadQueue.forEach(item => {\n      managerInstance.load(item.name, item.path, callback)\n    })\n  }\n\n  load (name, url, callback) {\n    let instance = this\n    let request = new XMLHttpRequest()\n\n    request.open('GET', url, true)\n    request.responseType = 'arraybuffer'\n\n    // Decode asynchronously\n    request.onload = function () {\n      instance.context.decodeAudioData(\n        request.response, buffer => {\n          instance.bufferCache[name] = buffer\n          instance.succesCount += 1\n\n          if (instance.done()) {\n            callback()\n          }\n        }\n      )\n    }\n\n    request.onerror = function () {\n      instance.errorCount += 1\n\n      if (instance.done()) {\n        callback()\n      }\n    }\n    request.send()\n  }\n\n  playSound (name, loop = false) {\n    let sound = this.context.createBufferSource()\n\n    sound.buffer = this.bufferCache[name]\n    sound.connect(this.context.destination)\n    if (loop) {\n      sound.loop = loop\n      sound.loopEnd = Math.floor(sound.buffer.duration)\n    }\n    sound.start(0)\n  }\n\n  /**\n   *\n   * @returns {boolean}\n   */\n  done () {\n    return this.downloadQueue.length === this.succesCount + this.errorCount\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/application/AudioManager.js","export default class AssetManager {\n  constructor () {\n    this.downloadQueue = []\n    this.cache = {}\n    this.succesCount = 0\n    this.errorCount = 0\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {string} path\n   */\n  queueDownload (name, path) {\n    this.downloadQueue.push({name: name, path: path})\n  }\n\n  /**\n   *\n   * @param callback\n   */\n  downLoadAll (callback) {\n    if (this.downloadQueue.length === 0) {\n      callback()\n    }\n\n    let managerInstance = this\n    this.downloadQueue.forEach(item => {\n      let img = new Image()\n      img.addEventListener('load', () => {\n        managerInstance.succesCount += 1\n\n        if (managerInstance.done()) {\n          callback()\n        }\n      }, false)\n      img.addEventListener('error', function () {\n        managerInstance.errorCount += 1\n\n        if (managerInstance.done()) {\n          callback()\n        }\n      }, false)\n      img.src = item.path\n      this.cache[item.name] = img\n    })\n  }\n\n  /**\n   *\n   * @param {string} name\n   */\n  getAsset (name) {\n    return this.cache[name]\n  }\n\n  /**\n   *\n   * @returns {boolean}\n   */\n  done () {\n    return this.downloadQueue.length === this.succesCount + this.errorCount\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/application/AssetManager.js","/**\n * Created by Daniel on 2017-09-18.\n */\nexport default class KeyboardEventHandler {\n  /**\n   *\n   * @param canvas\n   */\n  constructor (canvas) {\n    this.game = canvas\n    this.initializeKeyHandler()\n    this.keyActionsRegister = {}\n  }\n\n  initializeKeyHandler () {\n    this.game.addEventListener('keydown', event => { this.keyActionsRegister[event.key] = true })\n    this.game.addEventListener('keyup', event => { this.keyActionsRegister[event.key] = false })\n  }\n\n  getKeyActionsRegister () {\n    return this.keyActionsRegister\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/application/KeyboardEventHandler.js"],"sourceRoot":""}